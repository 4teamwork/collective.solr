Not Found
---------

This tests that searching for suggestions when a page hasn't been found,
a.k.a. a 404 response, still works. This is only available in Plone 3.
In Plone 4 there's a simple search form on the page instead.

  >>> self.activateAndReindex()

  >>> self.setRoles(('Manager',))
  >>> browser = self.getBrowser()
  >>> browser.handleErrors = False    # this is not debug code in this case...
  >>> browser.open('http://nohost/plone/welcome')
  Traceback (most recent call last):
  ...
  NotFound: ...
    ...We...re sorry, but that page doesn...t exist...
    ...You might have been looking for...
    ...href="http://nohost/plone/"...Plone site...
    ...href="http://nohost/plone/front-page/"...Welcome to Plone...

Suggestions are searched for using parts of the non-existent url, starting
from the end.  If the search doesn't yield any results, the next part is
considered and so on, until at the end, an empty string is passed in as the
search term.  This however breaks searching with Solr and needs to be fixed.
An easy way to make sure no results are ever returned is to clear the index:

  >>> maintenance = portal.unrestrictedTraverse('@@solr-maintenance')
  >>> maintenance.clear()
  'solr index cleared.'
  >>> browser.open('http://nohost/plone/welcome')
  Traceback (most recent call last):
  ...
  NotFound: ...
    ...We...re sorry, but that page doesn...t exist...
    ...You might have been looking for...
